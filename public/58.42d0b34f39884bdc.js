"use strict";(self.webpackChunkcliente_srff=self.webpackChunkcliente_srff||[]).push([[58],{5058:(w,g,a)=>{a.r(g),a.d(g,{ProfileModule:()=>U});var q=a(9808),T=a(9648),o=a(4182),r=a(5e3),A=a(4153),_=a(2290),b=a(8338),C=a(9089);const I=[{path:"",component:(()=>{class t{constructor(i,e,n,s,d){this.fb=i,this.spinner=e,this.toastr=n,this.auth=s,this.userService=d,this.auth.usuario.subscribe(u=>this.usuario=u),this.type="password",this.icon="fa fa-eye-slash",this.datos=this.fb.group({nombre:new o.NI(null,[o.kI.required]),cedula_ruc:new o.NI(null,[o.kI.required,o.kI.minLength(10),o.kI.maxLength(13),o.kI.pattern("^[0-9]*$")]),telefono:new o.NI(null,[o.kI.required,o.kI.minLength(10),o.kI.maxLength(10),o.kI.pattern("^[0-9]*$")]),direccion:new o.NI(null,[o.kI.required]),correo:new o.NI(null,[o.kI.required,o.kI.email])}),this.contrasenia=this.fb.group({contrasenia:new o.NI(null,[o.kI.required]),nueva:new o.NI(null,[o.kI.required,o.kI.minLength(10)]),confirmacion:new o.NI(null,[o.kI.required])}),this.datos.patchValue(this.usuario)}ngOnInit(){}register(){var i,e,n,s,d,u,m,f,h,v,Z,p;if(this.datos.controls.nombre.valid){if(!this.datos.controls.cedula_ruc.valid)return(null===(e=this.datos.controls.cedula_ruc.errors)||void 0===e?void 0:e.required)&&this.toastr.error("Ingrese su c\xe9dula o Ruc"),(null===(n=this.datos.controls.cedula_ruc.errors)||void 0===n?void 0:n.minlength)&&this.toastr.error("La c\xe9dula debe tener al menos 10 n\xfameros"),(null===(s=this.datos.controls.cedula_ruc.errors)||void 0===s?void 0:s.maxlength)&&this.toastr.error("La c\xe9dula no debe tener m\xe1s de 13 n\xfameros"),void((null===(d=this.datos.controls.cedula_ruc.errors)||void 0===d?void 0:d.pattern)&&this.toastr.error("C\xe9dula no valida"));if(!this.datos.controls.telefono.valid)return(null===(u=this.datos.controls.telefono.errors)||void 0===u?void 0:u.required)&&this.toastr.error("Ingrese su n\xfamero de telefono"),(null===(m=this.datos.controls.telefono.errors)||void 0===m?void 0:m.minlength)&&this.toastr.error("El telefono debe tener al menos 10 n\xfameros"),(null===(f=this.datos.controls.telefono.errors)||void 0===f?void 0:f.maxlength)&&this.toastr.error("El telefono no debe tener m\xe1s de 10 n\xfameros"),void((null===(h=this.datos.controls.telefono.errors)||void 0===h?void 0:h.pattern)&&this.toastr.error("Tel\xe9fono no valida"));if(this.datos.controls.direccion.valid)return this.datos.controls.correo.valid?void(this.datos.valid&&(this.spinner.show(),this.userService.update(this.datos.value,this.usuario.id_usuario).subscribe(c=>{c&&(c.modules=this.usuario.modules,this.auth.usuario.next(c),this.toastr.success("Informaci\xf3n Guardada")),this.spinner.hide()},c=>{this.spinner.hide()}))):((null===(Z=this.datos.controls.correo.errors)||void 0===Z?void 0:Z.required)&&this.toastr.error("Ingrese su correo"),void((null===(p=this.datos.controls.correo.errors)||void 0===p?void 0:p.pattern)&&this.toastr.error("Correo no valido")));(null===(v=this.datos.controls.direccion.errors)||void 0===v?void 0:v.required)&&this.toastr.error("Ingrese su ciudad")}else(null===(i=this.datos.controls.nombre.errors)||void 0===i?void 0:i.required)&&this.toastr.error("Ingrese su nombre")}cambiar(){var i,e,n;if(this.contrasenia.controls.contrasenia.valid)return this.contrasenia.controls.nueva.valid?void(this.contrasenia.controls.nueva.value===this.contrasenia.controls.confirmacion.value?this.contrasenia.valid&&(this.spinner.show(),this.userService.cambioContrasenia(this.contrasenia.value).subscribe(s=>{s&&this.toastr.success(s.message),this.contrasenia.reset(),this.spinner.hide()},s=>{s.error.contrasenia&&this.toastr.error(s.error.contrasenia),this.spinner.hide()})):this.toastr.error("Las contrase\xf1as no son iguales")):((null===(e=this.contrasenia.controls.nueva.errors)||void 0===e?void 0:e.required)&&this.toastr.error("Ingrese una nueva contrase\xf1a"),void((null===(n=this.contrasenia.controls.nueva.errors)||void 0===n?void 0:n.minlength)&&this.toastr.error("La nueva contrase\xf1a debe tener al menos 10 caracteres")));(null===(i=this.contrasenia.controls.contrasenia.errors)||void 0===i?void 0:i.required)&&this.toastr.error("Ingrese la contrase\xf1a actual")}showPassword(){"password"==this.type?(this.type="text",this.icon="fa fa-eye"):(this.type="password",this.icon="fa fa-eye-slash")}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(o.qu),r.Y36(A.t2),r.Y36(_._W),r.Y36(b.e),r.Y36(C.K))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-profile"]],decls:72,vars:8,consts:[[1,"row"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"row",3,"formGroup","submit"],[1,"col-md-6"],[1,"form-group"],["type","text","name","name","formControlName","nombre","required","",1,"form-control"],[1,"col-md-3"],["type","text","name","cedula","formControlName","cedula_ruc","required","",1,"form-control"],["type","text","name","telefono","formControlName","telefono","required","",1,"form-control"],[1,"col-md-8"],["type","email","name","email","formControlName","correo","required","",1,"form-control"],[1,"col-md-4"],["type","text","name","ciudad","formControlName","direccion","required","",1,"form-control"],[1,"col-md-12"],["type","submit",1,"btn","btn-primary"],[1,"mt-3","mb-2"],[1,"input-group"],["formControlName","contrasenia","name","password",1,"form-control",3,"type"],[1,"input-group-prepend","password",3,"click"],[1,"input-group-text"],[3,"ngClass"],["formControlName","nueva","name","password",1,"form-control",3,"type"],["formControlName","confirmacion","name","password",1,"form-control",3,"type"]],template:function(i,e){1&i&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h4",4),r._uU(5,"Datos Personales"),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"form",6),r.NdJ("submit",function(){return e.register()}),r.TgZ(8,"div",7),r.TgZ(9,"div",8),r.TgZ(10,"label"),r._uU(11,"Nombre y Apellido"),r.qZA(),r._UZ(12,"input",9),r.qZA(),r.qZA(),r.TgZ(13,"div",10),r.TgZ(14,"div",8),r.TgZ(15,"label"),r._uU(16,"C\xe9dula / RUC"),r.qZA(),r._UZ(17,"input",11),r.qZA(),r.qZA(),r.TgZ(18,"div",10),r.TgZ(19,"div",8),r.TgZ(20,"label"),r._uU(21,"Tel\xe9fono"),r.qZA(),r._UZ(22,"input",12),r.qZA(),r.qZA(),r.TgZ(23,"div",13),r.TgZ(24,"div",8),r.TgZ(25,"label"),r._uU(26,"Correo "),r.qZA(),r._UZ(27,"input",14),r.qZA(),r.qZA(),r.TgZ(28,"div",15),r.TgZ(29,"div",8),r.TgZ(30,"label"),r._uU(31,"Ciudad"),r.qZA(),r._UZ(32,"input",16),r.qZA(),r.qZA(),r.TgZ(33,"div",17),r.TgZ(34,"div",8),r.TgZ(35,"button",18),r._uU(36," Guardar "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"div",1),r.TgZ(38,"div",2),r.TgZ(39,"div",3),r.TgZ(40,"h4",4),r._uU(41,"Cambiar Contrase\xf1a"),r.qZA(),r.qZA(),r.TgZ(42,"div",5),r.TgZ(43,"form",6),r.NdJ("submit",function(){return e.cambiar()}),r.TgZ(44,"div",15),r.TgZ(45,"div",19),r._uU(46,"Contrase\xf1a Actual"),r.qZA(),r.TgZ(47,"div",20),r._UZ(48,"input",21),r.TgZ(49,"div",22),r.NdJ("click",function(){return e.showPassword()}),r.TgZ(50,"span",23),r._UZ(51,"i",24),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(52,"div",15),r.TgZ(53,"div",19),r._uU(54,"Nueva contrase\xf1a"),r.qZA(),r.TgZ(55,"div",20),r._UZ(56,"input",25),r.TgZ(57,"div",22),r.NdJ("click",function(){return e.showPassword()}),r.TgZ(58,"span",23),r._UZ(59,"i",24),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(60,"div",15),r.TgZ(61,"div",19),r._uU(62,"Repita la contrase\xf1a"),r.qZA(),r.TgZ(63,"div",20),r._UZ(64,"input",26),r.TgZ(65,"div",22),r.NdJ("click",function(){return e.showPassword()}),r.TgZ(66,"span",23),r._UZ(67,"i",24),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(68,"div",17),r.TgZ(69,"div",8),r.TgZ(70,"button",18),r._uU(71," Cambiar "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&i&&(r.xp6(7),r.Q6J("formGroup",e.datos),r.xp6(36),r.Q6J("formGroup",e.contrasenia),r.xp6(5),r.Q6J("type",e.type),r.xp6(3),r.Q6J("ngClass",e.icon),r.xp6(5),r.Q6J("type",e.type),r.xp6(3),r.Q6J("ngClass",e.icon),r.xp6(5),r.Q6J("type",e.type),r.xp6(3),r.Q6J("ngClass",e.icon))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Q7,q.mk],styles:[""]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[T.Bz.forChild(I)],T.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[q.ez,y,o.u5,o.UX]]}),t})()}}]);