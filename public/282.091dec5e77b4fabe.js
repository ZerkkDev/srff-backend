"use strict";(self.webpackChunkcliente_srff=self.webpackChunkcliente_srff||[]).push([[282],{7282:(k,u,l)=>{l.r(u),l.d(u,{HistorialDepositosModule:()=>I});var r=l(9808),c=l(9648),n=l(4182),d=l(1954),t=l(5e3),g=l(2290),h=l(4153),Z=l(8338),m=l(2704);function f(o,s){1&o&&(t.TgZ(0,"th"),t._uU(1,"Usuario"),t.qZA())}function T(o,s){1&o&&(t.TgZ(0,"th"),t._uU(1,"Aprobado por"),t.qZA())}function v(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.usuario)}}function b(o,s){1&o&&(t.TgZ(0,"div"),t.TgZ(1,"span",18),t._uU(2," Realizado "),t.qZA(),t._UZ(3,"br"),t.qZA())}function q(o,s){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"span",19),t._uU(2," Rechazado "),t.qZA(),t._UZ(3,"br"),t._uU(4),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(4),t.hij(" ",i.razon," ")}}function A(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.aprobado)}}function x(o,s){if(1&o&&(t.TgZ(0,"tr"),t.YNc(1,v,2,1,"td",15),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,b,4,0,"div",15),t.YNc(10,q,5,1,"div",15),t.qZA(),t.YNc(11,A,2,1,"td",15),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"date"),t.qZA(),t.qZA()),2&o){const i=s.$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1==(null==e.usuario?null:e.usuario.id_tipo)||4==(null==e.usuario?null:e.usuario.id_tipo)),t.xp6(2),t.Oqu(i.valor),t.xp6(2),t.Oqu(i.banco),t.xp6(2),t.Oqu(i.comprobante),t.xp6(2),t.Q6J("ngIf",i.realizado),t.xp6(1),t.Q6J("ngIf",!i.realizado),t.xp6(1),t.Q6J("ngIf",1==(null==e.usuario?null:e.usuario.id_tipo)||4==(null==e.usuario?null:e.usuario.id_tipo)),t.xp6(2),t.Oqu(t.xi3(14,8,i.created_at,"d/M/y, h:mm a"))}}function C(o,s){if(1&o&&(t.TgZ(0,"table",16),t.TgZ(1,"thead"),t.YNc(2,f,2,0,"th",15),t.TgZ(3,"th"),t._uU(4,"Valor"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Banco"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Comprobante"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Estado"),t.qZA(),t.YNc(11,T,2,0,"th",15),t.TgZ(12,"th"),t._uU(13,"Fecha"),t.qZA(),t.qZA(),t.TgZ(14,"tbody"),t.YNc(15,x,15,11,"tr",17),t.qZA(),t.qZA()),2&o){const i=t.oxw();t.xp6(2),t.Q6J("ngIf",1==(null==i.usuario?null:i.usuario.id_tipo)||4==(null==i.usuario?null:i.usuario.id_tipo)),t.xp6(9),t.Q6J("ngIf",1==(null==i.usuario?null:i.usuario.id_tipo)||4==(null==i.usuario?null:i.usuario.id_tipo)),t.xp6(4),t.Q6J("ngForOf",null==i.page?null:i.page.data)}}function D(o,s){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const i=t.oxw().$implicit;t.xp6(1),t.Oqu(i.label)}}function H(o,s){if(1&o&&t._UZ(0,"i"),2&o){const i=t.oxw().$implicit;t.Tol(i.icon)}}function U(o,s){if(1&o){const i=t.EpF();t.TgZ(0,"li"),t.TgZ(1,"button",22),t.NdJ("click",function(){const p=t.CHM(i).$implicit;return t.oxw(2).paginate(p.url)}),t.YNc(2,D,2,1,"div",15),t.YNc(3,H,1,2,"i",26),t.qZA(),t.qZA()}if(2&o){const i=s.$implicit;t.MT6("page-item ",i.active?"active":""," ",i.url?"":"disabled",""),t.xp6(2),t.Q6J("ngIf",!i.icon),t.xp6(1),t.Q6J("ngIf",i.icon)}}function y(o,s){if(1&o){const i=t.EpF();t.TgZ(0,"nav"),t.TgZ(1,"ul",20),t.TgZ(2,"li",21),t.TgZ(3,"button",22),t.NdJ("click",function(){t.CHM(i);const a=t.oxw();return a.paginate(null==a.page?null:a.page.first_page_url)}),t._UZ(4,"i",23),t.qZA(),t.qZA(),t.YNc(5,U,4,6,"li",24),t.TgZ(6,"li",21),t.TgZ(7,"button",22),t.NdJ("click",function(){t.CHM(i);const a=t.oxw();return a.paginate(null==a.page?null:a.page.last_page_url)}),t._UZ(8,"i",25),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const i=t.oxw();t.xp6(5),t.Q6J("ngForOf",null==i.page?null:i.page.links)}}const J=[{path:"",component:(()=>{class o{constructor(i,e,a,p,_){this.datePipe=i,this.toastr=e,this.spinner=a,this.auth=p,this.depositoService=_,this.auth.usuario.subscribe(N=>this.usuario=N),this.desde=new n.NI(null,n.kI.required),this.hasta=new n.NI(null,n.kI.required),this.comprobante=new n.NI(null,n.kI.required)}ngOnInit(){}validateDates(){if(!this.desde.valid||!this.hasta.valid)return void this.toastr.error("Seleccione dos fechas");let i=new Date(this.desde.value),e=new Date(this.hasta.value);if(!(i>e))return i=(0,d.Z)(i,1),e=(0,d.Z)(e,2),{desde:this.datePipe.transform(i,"yyyy-MM-dd"),hasta:this.datePipe.transform(e,"yyyy-MM-dd")};this.toastr.error("Fechas no validas")}showByDates(){this.comprobante.reset(),this.request=this.validateDates(),this.request&&(this.spinner.show(),this.depositoService.showByDates(this.request).subscribe(i=>{this.setPage(i),this.spinner.hide()},()=>this.spinner.hide()))}showByComprobante(){this.desde.reset(),this.hasta.reset(),this.comprobante.valid&&(this.spinner.show(),this.request={comprobante:this.comprobante.value},this.depositoService.showByComprobante(this.request).subscribe(i=>{this.setPage(i),this.spinner.hide()},()=>this.spinner.hide()))}paginate(i){this.desde.valid&&this.hasta.valid&&(this.request=this.validateDates()),this.request&&(this.spinner.show(),this.depositoService.paginate(i,this.request).subscribe(e=>{this.setPage(e),this.spinner.hide()},()=>this.spinner.hide()))}setPage(i){i&&(this.page=i,this.page.links[0].icon="fa fa-angle-left",this.page.links[this.page.links.length-1].icon="fa fa-angle-right")}}return o.\u0275fac=function(i){return new(i||o)(t.Y36(r.uU),t.Y36(g._W),t.Y36(h.t2),t.Y36(Z.e),t.Y36(m.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-historial-depositos"]],decls:26,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["type","date",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-round","btn-primary",3,"click"],[1,"input-group",3,"submit"],["type","text","placeholder","Comprobante",1,"form-control",3,"formControl"],[1,"input-group-prepend"],["type","submit",1,"btn","btn-just-icon","btn-sm","btn-primary"],[1,"fa","fa-search"],[1,"card-body"],[1,"table-responsive"],["class","table",4,"ngIf"],[4,"ngIf"],[1,"table"],[4,"ngFor","ngForOf"],[1,"badge","bg-success","text-dark",2,"font-size","small"],[1,"badge","bg-danger","text-dark",2,"font-size","small"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"click"],[1,"fa","fa-angle-double-left"],[3,"class",4,"ngFor","ngForOf"],[1,"fa","fa-angle-double-right"],[3,"class",4,"ngIf"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"label"),t._uU(6,"Desde"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.qZA(),t.TgZ(8,"div",3),t.TgZ(9,"div",4),t.TgZ(10,"label"),t._uU(11,"Hasta"),t.qZA(),t._UZ(12,"input",5),t.qZA(),t.qZA(),t.TgZ(13,"div",3),t.TgZ(14,"button",6),t.NdJ("click",function(){return e.showByDates()}),t._uU(15," Buscar "),t.qZA(),t.qZA(),t.TgZ(16,"div",3),t.TgZ(17,"form",7),t.NdJ("submit",function(){return e.showByComprobante()}),t._UZ(18,"input",8),t.TgZ(19,"div",9),t.TgZ(20,"button",10),t._UZ(21,"i",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"div",12),t.TgZ(23,"div",13),t.YNc(24,C,16,3,"table",14),t.YNc(25,y,9,1,"nav",15),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(7),t.Q6J("formControl",e.desde),t.xp6(5),t.Q6J("formControl",e.hasta),t.xp6(6),t.Q6J("formControl",e.comprobante),t.xp6(6),t.Q6J("ngIf",e.page),t.xp6(1),t.Q6J("ngIf",null==e.page?null:e.page.links))},directives:[n.Fj,n.JJ,n.oH,n._Y,n.JL,n.F,r.O5,r.sg],pipes:[r.uU],styles:[""]}),o})()}];let w=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(J)],c.Bz]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[r.uU],imports:[[r.ez,w,n.u5,n.UX]]}),o})()}}]);